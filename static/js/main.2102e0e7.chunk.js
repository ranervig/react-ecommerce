(this["webpackJsonpreact-ecommerce"]=this["webpackJsonpreact-ecommerce"]||[]).push([[0],{11:function(t,e,c){t.exports={cartItem:"cartItem_cartItem__3Wv3c",details:"cartItem_details__3wFt3",qty:"cartItem_qty__16l1Q"}},12:function(t,e,c){t.exports={cart:"cart_cart__jNwPP",head:"cart_head__4jYQm"}},15:function(t,e,c){t.exports={header:"nav_header__17F68"}},27:function(t,e,c){t.exports={foot:"footer_foot__ivrp2"}},28:function(t,e,c){t.exports={product_card:"product_product_card__Z1JA-"}},29:function(t,e,c){t.exports={products:"list_products__Wb4zj"}},68:function(t,e,c){},69:function(t,e,c){"use strict";c.r(e);var n=c(1),r=c.n(n),a=c(9),i=c.n(a),s=c(6),o=c(2),u=c(7),j=c.n(u),l=c(8),d=c(3),b=c(16),h=c(26),m=new(c.n(h).a)("pk_368780514bec3e66a214a66c356172adb71b8bea2c068",!0),p=c(0),O=Object(n.createContext)(),x=Object(n.createContext)(),f="SET_CART",_={total_items:0,total_unique_items:0,line_items:[]},v=function(t,e){if(e.type===f)return Object(b.a)(Object(b.a)({},t),e.payload);throw new Error("Unknown action: ".concat(e.type))},y=function(t){var e=t.children,c=Object(n.useReducer)(v,_),r=Object(d.a)(c,2),a=r[0],i=r[1];Object(n.useEffect)((function(){o()}));var s=function(t){return i({type:f,payload:t})},o=function(){var t=Object(l.a)(j.a.mark((function t(){var e;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.cart.retrieve();case 3:e=t.sent,s(e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(p.jsx)(x.Provider,{value:{setCart:s},children:Object(p.jsx)(O.Provider,{value:a,children:e})})},C=function(){return Object(n.useContext)(O)},g=function(){return Object(n.useContext)(x)},k=(c(68),Object(n.createContext)()),q=c(15),w=c.n(q),N=function(){var t=C(),e=Object(n.useContext)(k),c=e.isCartVisible,r=e.setIsCartVisible;return Object(p.jsxs)("nav",{className:w.a.header,children:[Object(p.jsx)(s.b,{to:"/",children:Object(p.jsx)("h1",{children:"Astro Supply"})}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:Object(p.jsx)(s.b,{to:"/about",children:"About"})}),Object(p.jsx)("li",{children:Object(p.jsx)(s.b,{to:"store",children:"Store"})}),Object(p.jsx)("li",{children:Object(p.jsxs)("button",{onClick:function(t){return r(!c)},children:["Cart",Object(p.jsx)("span",{className:w.a.count,children:t.total_items})]})})]})]})},I=c(27),S=c.n(I),T=function(){return Object(p.jsx)("footer",{className:S.a.foot,children:Object(p.jsx)("p",{children:"This is a School Project not a Real Store."})})},A=c(11),R=c.n(A),E=function(t){var e=t.item,c=g().setCart,n=function(t){m.cart.update(e.id,{quantity:t}).then((function(t){var e=t.cart;return c(e)})).catch((function(t){console.error("There was an error updating the cart items",t)}))};return Object(p.jsxs)("div",{className:R.a.cartItem,children:[Object(p.jsx)("img",{className:"cart-item__image",src:e.image.url,alt:e.name}),Object(p.jsxs)("div",{className:R.a.details,children:[Object(p.jsx)("h4",{className:"cart-item__details-name",children:e.name}),Object(p.jsxs)("div",{className:R.a.qty,children:[Object(p.jsx)("button",{type:"button",title:"Reduce quantity",onClick:function(){return n(e.quantity-1)},children:"-"}),Object(p.jsx)("p",{children:e.quantity}),Object(p.jsx)("button",{type:"button",title:"Increase quantity",onClick:function(){return n(e.quantity+1)},children:"+"})]}),Object(p.jsx)("div",{className:"cart-item__details-price",children:e.line_total.formatted_with_symbol})]}),Object(p.jsx)("button",{type:"button",onClick:function(){m.cart.remove(e.id).then((function(t){var e=t.cart;return c(e)})).catch((function(t){console.error("There was an error removing the item from the cart",t)}))},children:"Remove"})]})},V=c(12),P=c.n(V),M=function(){var t=Object(n.useContext)(k),e=t.isCartVisible,c=t.setIsCartVisible,r=function(t){return c(!e)},a=C(),i=g().setCart,o=function(){m.cart.empty().then((function(t){var e=t.cart;return i(e)})).catch((function(t){console.error("There was an error emptying the cart",t)}))};return Object(p.jsxs)("div",{className:P.a.cart,children:[Object(p.jsxs)("h4",{className:P.a.head,children:["Your Shopping Cart",Object(p.jsx)("button",{onClick:r,children:"X"})]}),function(){if(0===a.total_unique_items)return Object(p.jsx)("p",{className:"cart_none",children:"You have no items in your shopping cart, start adding some!"})}(),function(){if(a.total_unique_items>0)return Object(p.jsxs)(p.Fragment,{children:[a.line_items.map((function(t){return Object(p.jsx)(E,{item:t},t.id)})),Object(p.jsx)("button",{className:P.a.empty,onClick:o,children:"Empty Cart"}),Object(p.jsxs)("div",{className:"cart_total",children:[Object(p.jsx)("p",{className:"cart_total-title",children:"Subtotal:"}),Object(p.jsx)("p",{className:"cart_total-price",children:a.subtotal.formatted_with_symbol})]}),Object(p.jsx)(s.b,{to:"/checkout",children:Object(p.jsx)("button",{onClick:r,children:"Checkout"})})]})}()]})},F=function(){var t=Object(n.useState)(!1),e=Object(d.a)(t,2),c=e[0],r=e[1],a=Object(n.useMemo)((function(){return{isCartVisible:c,setIsCartVisible:r}}),[c]);return Object(p.jsxs)(k.Provider,{value:a,children:[Object(p.jsx)(N,{}),Object(p.jsx)(o.a,{}),c&&Object(p.jsx)(M,{}),Object(p.jsx)(T,{})]})},J=function(){return Object(p.jsx)("main",{children:Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"About Astro Supply"}),Object(p.jsx)("p",{children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Minima optio voluptatibus officiis omnis voluptatem assumenda ipsa ratione quibusdam, commodi vitae quam? Voluptatum eius veniam assumenda fuga ducimus repellendus, pariatur officia aut delectus dignissimos deserunt possimus esse a! Illo, nisi suscipit? Minus pariatur placeat neque quisquam tempora blanditiis! Quam adipisci aliquid repellendus nulla ipsum placeat esse autem est similique. Repudiandae magnam alias corrupti sapiente eveniet ducimus debitis? Ipsam obcaecati tempora consequatur dolorum corporis, blanditiis, id error odit debitis quas dolores cumque ullam eos minus perferendis ad! Unde, quis nemo non et blanditiis, nihil labore est, perspiciatis debitis rerum perferendis sit eius."})]})})},Q=c(28),Y=c.n(Q),B=function(t){var e=t.product,c=g().setCart;return Object(p.jsxs)("div",{className:Y.a.product_card,children:[Object(p.jsx)("img",{src:e.image.url,alt:e.name}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h4",{children:e.name}),Object(p.jsx)("p",{children:e.description.replace(/<[^>]+>/g,"")}),Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{children:e.price.formatted_with_symbol}),Object(p.jsx)("button",{name:"Add to cart",className:"product_btn",onClick:function(){m.cart.add(e.id).then((function(t){var e=t.cart;return c(e)}))},children:"Add to Cart"})]})]})]})},L=c(29),U=c.n(L),W=function(t){var e=t.products;return Object(p.jsx)("main",{children:Object(p.jsx)("div",{className:U.a.products,children:e.map((function(t){return Object(p.jsx)(B,{product:t},t.id)}))})})};var z=function(){var t=Object(n.useState)([]),e=Object(d.a)(t,2),c=e[0],r=e[1],a=Object(n.useState)(!0),i=Object(d.a)(a,2),s=i[0],o=i[1],u=g().setCart;return Object(n.useEffect)((function(){m.products.list().then((function(t){r(t.data),o(!1)})).catch((function(t){console.log("There was an error fetching the products.",t)})),m.cart.retrieve().then((function(t){u(t)})).catch((function(t){console.error("There was an error fetching the cart",t)}))}),[]),Object(p.jsxs)("main",{children:[s&&Object(p.jsx)("div",{children:"Loading...."}),c&&Object(p.jsx)(W,{products:c})]})},D=function(){return Object(p.jsx)("main",{children:Object(p.jsx)("h1",{children:"Home"})})},H=window.paypal.Buttons.driver("react",{React:r.a,ReactDOM:i.a}),X=function(t){var e=t.amount,c=Object(o.g)(),n=g().setCart;return Object(p.jsx)(H,{createOrder:function(t,c){return function(t,c){return c.order.create({purchase_units:[{amount:{value:e}}]})}(0,c)},onApprove:function(t,e){return function(t,e){return e.order.capture().then((function(){m.cart.empty().then((function(t){var e=t.cart;return n(e)})).catch((function(t){console.error("There was an error emptying the cart",t)})).then(c("../thankyou"))}))}(0,e)}})},Z=function(){var t=Object(n.useState)(),e=Object(d.a)(t,2),c=(e[0],e[1]),r=C();return Object(n.useEffect)((function(){r.line_items.length&&m.checkout.generateToken(r.id,{type:"cart"}).then((function(t){c(t)})).catch((function(t){console.error("There was an error in generating a token",t)}))}),[]),Object(p.jsxs)("main",{children:[Object(p.jsx)("h1",{children:"Checkout"}),r.line_items&&Object(p.jsx)(X,{amount:r.subtotal.formatted})]})},G=function(){return Object(p.jsx)("div",{children:Object(p.jsx)("h1",{children:"Thank your for your purchase!"})})};i.a.render(Object(p.jsx)(y,{children:Object(p.jsx)(s.a,{children:Object(p.jsx)(o.d,{children:Object(p.jsxs)(o.b,{path:"/",element:Object(p.jsx)(F,{}),children:[Object(p.jsx)(o.b,{index:!0,element:Object(p.jsx)(D,{})}),Object(p.jsx)(o.b,{path:"about",element:Object(p.jsx)(J,{})}),Object(p.jsx)(o.b,{path:"store",element:Object(p.jsx)(z,{})}),Object(p.jsx)(o.b,{path:"checkout",element:Object(p.jsx)(Z,{})}),Object(p.jsx)(o.b,{path:"thankyou",element:Object(p.jsx)(G,{})})]})})})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.2102e0e7.chunk.js.map