{"version":3,"sources":["styles/cartItem.module.css","styles/cart.module.css","styles/nav.module.css","styles/footer.module.css","styles/product.module.css","styles/list.module.css","lib/commerce.js","context/cart.js","context/cartVisibility.js","components/Nav.js","components/Footer.js","components/CartItem.js","components/Cart.js","app.js","about.js","components/ProductItem.js","components/ProductList.js","store.js","home.js","components/PayButton.js","components/Checkout.js","components/ThankYou.js","index.js"],"names":["module","exports","commerce","Commerce","process","CartStateContext","createContext","CartDispatchContext","SET_CART","initialState","total_items","total_unique_items","line_items","reducer","state","action","type","payload","Error","CartProvider","children","useReducer","dispatch","useEffect","getCart","setCart","a","cart","retrieve","console","error","Provider","value","useCartState","useContext","useCartDispatch","cartVisibility","Nav","isCartVisible","setIsCartVisible","className","style","header","to","onClick","event","count","Footer","foot","CartItem","item","handleUpdateCartQty","quantity","update","id","then","catch","err","cartItem","src","image","url","alt","name","details","qty","title","line_total","formatted_with_symbol","remove","Cart","handleToggle","handleEmptyCart","empty","head","renderEmptyCart","map","lineItem","subtotal","renderCart","App","useState","useMemo","About","ProductItem","product","product_card","description","replace","price","add","ProductList","products","Store","setProducts","isLoading","setIsLoading","list","response","data","log","Home","PaypalButton","window","paypal","Buttons","driver","React","ReactDOM","PayButton","amount","navigate","useNavigate","createOrder","actions","order","create","purchase_units","onApprove","capture","Checkout","setCheckoutToken","length","checkout","generateToken","token","formatted","ThankYou","render","path","element","index","document","getElementById"],"mappings":"4GACAA,EAAOC,QAAU,CAAC,SAAW,2BAA2B,QAAU,0BAA0B,IAAM,wB,mBCAlGD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,KAAO,qB,mBCAnDD,EAAOC,QAAU,CAAC,OAAS,sB,mBCA3BD,EAAOC,QAAU,CAAC,KAAO,uB,mBCAzBD,EAAOC,QAAU,CAAC,aAAe,gC,mBCAjCD,EAAOC,QAAU,CAAC,SAAW,yB,4JCGdC,EAFE,I,OAAIC,GAASC,oDAAuC,G,OCE/DC,EAAmBC,0BACnBC,EAAsBD,0BAEtBE,EAAW,WAEXC,EAAe,CACnBC,YAAa,EACbC,mBAAoB,EACpBC,WAAY,IAGRC,EAAU,SAACC,EAAOC,GACtB,GAAQA,EAAOC,OACRR,EACH,OAAO,2BAAKM,GAAUC,EAAOE,SAE7B,MAAM,IAAIC,MAAJ,0BAA6BH,EAAOC,QAInCG,EAAe,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAC7B,EAA0BC,qBAAWR,EAASJ,GAA9C,mBAAOK,EAAP,KAAcQ,EAAd,KAEAC,qBAAU,WACRC,OAGF,IAAMC,EAAU,SAAAR,GAAO,OAAIK,EAAS,CAAEN,KAAMR,EAAUS,aAEhDO,EAAO,uCAAG,4BAAAE,EAAA,+EAEOxB,EAASyB,KAAKC,WAFrB,OAEND,EAFM,OAIZF,EAAQE,GAJI,gDAMZE,QAAQC,MAAR,MANY,yDAAH,qDAUb,OACE,cAACvB,EAAoBwB,SAArB,CAA8BC,MAAO,CAAEP,WAAvC,SACE,cAACpB,EAAiB0B,SAAlB,CAA2BC,MAAOlB,EAAlC,SACGM,OAMIa,EAAe,kBAAMC,qBAAW7B,IAChC8B,EAAkB,kBAAMD,qBAAW3B,ICpD1C6B,G,MAAiB9B,2B,iBCgCR+B,EA3BH,WACV,IAAMV,EAAOM,IACb,EAA4CC,qBAAWE,GAA/CE,EAAR,EAAQA,cAAeC,EAAvB,EAAuBA,iBAEvB,OACE,sBAAKC,UAAWC,IAAMC,OAAtB,UACE,cAAC,IAAD,CAAMC,GAAG,IAAT,SACE,gDAEF,+BACE,6BACE,cAAC,IAAD,CAAMA,GAAG,SAAT,qBAEF,6BACE,cAAC,IAAD,CAAMA,GAAG,QAAT,qBAEF,6BACE,yBAAQC,QAdK,SAAAC,GAAK,OAAIN,GAAkBD,IAcxC,iBAEE,sBAAME,UAAWC,IAAMK,MAAvB,SAA+BnB,EAAKjB,0B,iBCdjCqC,EARA,WACb,OACE,wBAAQP,UAAWC,IAAMO,KAAzB,SACE,8E,iBCsDSC,EAvDE,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACVzB,EAAYU,IAAZV,QACF0B,EAAsB,SAAAC,GAC1BlD,EAASyB,KACN0B,OAAOH,EAAKI,GAAI,CAAEF,aAClBG,MAAK,gBAAG5B,EAAH,EAAGA,KAAH,OAAcF,EAAQE,MAC3B6B,OAAM,SAAAC,GACL5B,QAAQC,MAAM,6CAA8C2B,OAelE,OACE,sBAAKjB,UAAWC,IAAMiB,SAAtB,UACE,qBAAKlB,UAAU,mBAAmBmB,IAAKT,EAAKU,MAAMC,IAAKC,IAAKZ,EAAKa,OACjE,sBAAKvB,UAAWC,IAAMuB,QAAtB,UACE,oBAAIxB,UAAU,0BAAd,SAAyCU,EAAKa,OAC9C,sBAAKvB,UAAWC,IAAMwB,IAAtB,UACE,wBACEjD,KAAK,SACLkD,MAAM,kBACNtB,QAAS,kBAAMO,EAAoBD,EAAKE,SAAW,IAHrD,eAOA,4BAAIF,EAAKE,WACT,wBACEpC,KAAK,SACLkD,MAAM,oBACNtB,QAAS,kBAAMO,EAAoBD,EAAKE,SAAW,IAHrD,kBAQF,qBAAKZ,UAAU,2BAAf,SACGU,EAAKiB,WAAWC,2BAGrB,wBAAQpD,KAAK,SAAS4B,QArCG,WAC3B1C,EAASyB,KACN0C,OAAOnB,EAAKI,IACZC,MAAK,gBAAG5B,EAAH,EAAGA,KAAH,OAAcF,EAAQE,MAC3B6B,OAAM,SAAAC,GACL5B,QAAQC,MACN,qDACA2B,OA8BJ,wB,iBCcSa,EA3DF,WACX,MAA4CpC,qBAAWE,GAA/CE,EAAR,EAAQA,cAAeC,EAAvB,EAAuBA,iBACjBgC,EAAe,SAAA1B,GAAK,OAAIN,GAAkBD,IAC1CX,EAAOM,IACLR,EAAYU,IAAZV,QACF+C,EAAkB,WACtBtE,EAASyB,KACN8C,QACAlB,MAAK,gBAAG5B,EAAH,EAAGA,KAAH,OAAcF,EAAQE,MAC3B6B,OAAM,SAAAC,GACL5B,QAAQC,MAAM,uCAAwC2B,OAqC5D,OACE,sBAAKjB,UAAWC,IAAMd,KAAtB,UACE,qBAAIa,UAAWC,IAAMiC,KAArB,+BACoB,wBAAQ9B,QAAS2B,EAAjB,kBArCA,WACtB,GAAgC,IAA5B5C,EAAKhB,mBACP,OACE,mBAAG6B,UAAU,YAAb,yEAqCDmC,GA9Bc,WACjB,GAAIhD,EAAKhB,mBAAqB,EAC5B,OACE,qCACGgB,EAAKf,WAAWgE,KAAI,SAAAC,GAAQ,OAC3B,cAAC,EAAD,CAAU3B,KAAM2B,GAAeA,EAASvB,OAE1C,wBAAQd,UAAWC,IAAMgC,MAAO7B,QAAS4B,EAAzC,wBAGA,sBAAKhC,UAAU,aAAf,UACE,mBAAGA,UAAU,mBAAb,uBACA,mBAAGA,UAAU,mBAAb,SACGb,EAAKmD,SAASV,2BAGnB,cAAC,IAAD,CAAMzB,GAAG,YAAT,SACE,wBAAQC,QAAS2B,EAAjB,2BAcLQ,OCxCQC,EAhBH,WACV,MAA0CC,oBAAS,GAAnD,mBAAO3C,EAAP,KAAsBC,EAAtB,KACMP,EAAQkD,mBACZ,iBAAO,CAAE5C,gBAAeC,sBACxB,CAACD,IAEH,OACE,eAACF,EAAeL,SAAhB,CAAyBC,MAAOA,EAAhC,UACE,cAAC,EAAD,IACA,cAAC,IAAD,IACCM,GAAiB,cAAC,EAAD,IAClB,cAAC,EAAD,QCOS6C,EAxBD,WACZ,OACE,+BACE,gCACE,oDACA,8xB,iBC2BOC,EA3BK,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACb5D,EAAYU,IAAZV,QAKR,OACE,sBAAKe,UAAWC,IAAM6C,aAAtB,UACE,qBAAK3B,IAAK0B,EAAQzB,MAAMC,IAAKC,IAAKuB,EAAQtB,OAC1C,gCACE,6BAAKsB,EAAQtB,OACb,4BAAIsB,EAAQE,YAAYC,QAAQ,WAAY,MAC5C,gCACE,4BAAIH,EAAQI,MAAMrB,wBAClB,wBACEL,KAAK,cACLvB,UAAU,cACVI,QAdc,WACtB1C,EAASyB,KAAK+D,IAAIL,EAAQ/B,IAAIC,MAAK,gBAAG5B,EAAH,EAAGA,KAAH,OAAcF,EAAQE,OAUnD,mC,iBCHKgE,EAZK,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACrB,OACE,+BACE,qBAAKpD,UAAWC,IAAMmD,SAAtB,SACGA,EAAShB,KAAI,SAAAS,GAAO,OACnB,cAAC,EAAD,CAA8BA,QAASA,GAArBA,EAAQ/B,YCuCrBuC,MAzCf,WACE,MAAgCZ,mBAAS,IAAzC,mBAAOW,EAAP,KAAiBE,EAAjB,KACA,EAAkCb,oBAAS,GAA3C,mBAAOc,EAAP,KAAkBC,EAAlB,KACQvE,EAAYU,IAAZV,QA8BR,OALAF,qBAAU,WAtBRrB,EAAS0F,SACNK,OACA1C,MAAK,SAAA2C,GACJJ,EAAYI,EAASC,MACrBH,GAAa,MAEdxC,OAAM,SAAAC,GACL5B,QAAQuE,IAAI,4CAA6C3C,MAK7DvD,EAASyB,KACNC,WACA2B,MAAK,SAAA2C,GACJzE,EAAQyE,MAET1C,OAAM,SAAAC,GACL5B,QAAQC,MAAM,uCAAwC2B,QAOzD,IAGD,iCACGsC,GAAa,8CACbH,GAAY,cAAC,EAAD,CAAaA,SAAUA,QCjC3BS,EARF,WACX,OACE,+BACE,yCCCAC,EAAeC,OAAOC,OAAOC,QAAQC,OAAO,QAAS,CAAEC,UAAOC,eAqCrDC,EAnCG,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACbC,EAAWC,cACTvF,EAAYU,IAAZV,QAyBR,OACE,cAAC6E,EAAD,CACEW,YAAa,SAACd,EAAMe,GAAP,OAzBG,SAACf,EAAMe,GACzB,OAAOA,EAAQC,MAAMC,OAAO,CAC1BC,eAAgB,CACd,CACEP,OAAQ,CACN9E,MAAO8E,OAoBmBG,CAAYd,EAAMe,IAClDI,UAAW,SAACnB,EAAMe,GAAP,OAdG,SAACf,EAAMe,GACvB,OAAOA,EAAQC,MAAMI,UAAUhE,MAAK,WAClCrD,EAASyB,KACN8C,QACAlB,MAAK,gBAAG5B,EAAH,EAAGA,KAAH,OAAcF,EAAQE,MAC3B6B,OAAM,SAAAC,GACL5B,QAAQC,MAAM,uCAAwC2B,MAEvDF,KAAKwD,EAAS,mBAMaO,CAAUnB,EAAMe,OCsDrCM,EAvFE,WACf,MAA0CvC,qBAA1C,mBAAsBwC,GAAtB,WACM9F,EAAOM,IA4Eb,OAJAV,qBAAU,WArEJI,EAAKf,WAAW8G,QAClBxH,EAASyH,SACNC,cAAcjG,EAAK2B,GAAI,CAAEtC,KAAM,SAC/BuC,MAAK,SAAAsE,GACJJ,EAAiBI,MAElBrE,OAAM,SAAAC,GACL5B,QAAQC,MAAM,2CAA4C2B,QAgE/D,IAGD,iCACE,0CAEC9B,EAAKf,YAAc,cAAC,EAAD,CAAWkG,OAAQnF,EAAKmD,SAASgD,gBC7E5CC,EARE,WACf,OACE,8BACE,kECONnB,IAASoB,OACP,cAAC,EAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,eAAC,IAAD,CAAOC,KAAK,IAAIC,QAAS,cAAC,EAAD,IAAzB,UACE,cAAC,IAAD,CAAOC,OAAK,EAACD,QAAS,cAAC,EAAD,MACtB,cAAC,IAAD,CAAOD,KAAK,QAAQC,QAAS,cAAC,EAAD,MAC7B,cAAC,IAAD,CAAOD,KAAK,QAAQC,QAAS,cAAC,EAAD,MAC7B,cAAC,IAAD,CAAOD,KAAK,WAAWC,QAAS,cAAC,EAAD,MAChC,cAAC,IAAD,CAAOD,KAAK,WAAWC,QAAS,cAAC,EAAD,eAKxCE,SAASC,eAAe,W","file":"static/js/main.2102e0e7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"cartItem\":\"cartItem_cartItem__3Wv3c\",\"details\":\"cartItem_details__3wFt3\",\"qty\":\"cartItem_qty__16l1Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart\":\"cart_cart__jNwPP\",\"head\":\"cart_head__4jYQm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"nav_header__17F68\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"foot\":\"footer_foot__ivrp2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"product_card\":\"product_product_card__Z1JA-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"products\":\"list_products__Wb4zj\"};","import Commerce from \"@chec/commerce.js\";\n\nconst commerce = new Commerce(process.env.REACT_APP_CHEC_PUBLIC_KEY, true);\n\nexport default commerce;\n","import { createContext, useReducer, useEffect, useContext } from \"react\";\n\nimport commerce from \"../lib/commerce\";\n\nconst CartStateContext = createContext();\nconst CartDispatchContext = createContext();\n\nconst SET_CART = \"SET_CART\";\n\nconst initialState = {\n  total_items: 0,\n  total_unique_items: 0,\n  line_items: [],\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case SET_CART:\n      return { ...state, ...action.payload };\n    default:\n      throw new Error(`Unknown action: ${action.type}`);\n  }\n};\n\nexport const CartProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  useEffect(() => {\n    getCart();\n  });\n\n  const setCart = payload => dispatch({ type: SET_CART, payload });\n\n  const getCart = async () => {\n    try {\n      const cart = await commerce.cart.retrieve();\n\n      setCart(cart);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return (\n    <CartDispatchContext.Provider value={{ setCart }}>\n      <CartStateContext.Provider value={state}>\n        {children}\n      </CartStateContext.Provider>\n    </CartDispatchContext.Provider>\n  );\n};\n\nexport const useCartState = () => useContext(CartStateContext);\nexport const useCartDispatch = () => useContext(CartDispatchContext);\n","import { createContext } from \"react\";\nconst cartVisibility = createContext();\n\nexport { cartVisibility };\n","import { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { cartVisibility } from \"../context/cartVisibility\";\nimport { useCartState } from \"../context/cart\";\nimport style from \"../styles/nav.module.css\";\n\nconst Nav = () => {\n  const cart = useCartState();\n  const { isCartVisible, setIsCartVisible } = useContext(cartVisibility);\n  const handleToggle = event => setIsCartVisible(!isCartVisible);\n  return (\n    <nav className={style.header}>\n      <Link to=\"/\">\n        <h1>Astro Supply</h1>\n      </Link>\n      <ul>\n        <li>\n          <Link to=\"/about\">About</Link>\n        </li>\n        <li>\n          <Link to=\"store\">Store</Link>\n        </li>\n        <li>\n          <button onClick={handleToggle}>\n            Cart\n            <span className={style.count}>{cart.total_items}</span>\n          </button>\n        </li>\n      </ul>\n    </nav>\n  );\n};\n\nexport default Nav;\n","import React from \"react\";\nimport style from \"../styles/footer.module.css\";\n\nconst Footer = () => {\n  return (\n    <footer className={style.foot}>\n      <p>This is a School Project not a Real Store.</p>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import React from \"react\";\nimport commerce from \"../lib/commerce\";\nimport { useCartDispatch } from \"../context/cart\";\nimport style from \"../styles/cartItem.module.css\";\n\nconst CartItem = ({ item }) => {\n  const { setCart } = useCartDispatch();\n  const handleUpdateCartQty = quantity => {\n    commerce.cart\n      .update(item.id, { quantity })\n      .then(({ cart }) => setCart(cart))\n      .catch(err => {\n        console.error(\"There was an error updating the cart items\", err);\n      });\n  };\n\n  const handleRemoveFromCart = () => {\n    commerce.cart\n      .remove(item.id)\n      .then(({ cart }) => setCart(cart))\n      .catch(err => {\n        console.error(\n          \"There was an error removing the item from the cart\",\n          err\n        );\n      });\n  };\n  return (\n    <div className={style.cartItem}>\n      <img className=\"cart-item__image\" src={item.image.url} alt={item.name} />\n      <div className={style.details}>\n        <h4 className=\"cart-item__details-name\">{item.name}</h4>\n        <div className={style.qty}>\n          <button\n            type=\"button\"\n            title=\"Reduce quantity\"\n            onClick={() => handleUpdateCartQty(item.quantity - 1)}\n          >\n            -\n          </button>\n          <p>{item.quantity}</p>\n          <button\n            type=\"button\"\n            title=\"Increase quantity\"\n            onClick={() => handleUpdateCartQty(item.quantity + 1)}\n          >\n            +\n          </button>\n        </div>\n        <div className=\"cart-item__details-price\">\n          {item.line_total.formatted_with_symbol}\n        </div>\n      </div>\n      <button type=\"button\" onClick={handleRemoveFromCart}>\n        Remove\n      </button>\n    </div>\n  );\n};\n\nexport default CartItem;\n","import { useContext } from \"react\";\nimport CartItem from \"./CartItem\";\nimport { useCartState, useCartDispatch } from \"../context/cart\";\nimport commerce from \"../lib/commerce\";\nimport style from \"../styles/cart.module.css\";\nimport { cartVisibility } from \"../context/cartVisibility\";\nimport { Link } from \"react-router-dom\";\n\nconst Cart = () => {\n  const { isCartVisible, setIsCartVisible } = useContext(cartVisibility);\n  const handleToggle = event => setIsCartVisible(!isCartVisible);\n  const cart = useCartState();\n  const { setCart } = useCartDispatch();\n  const handleEmptyCart = () => {\n    commerce.cart\n      .empty()\n      .then(({ cart }) => setCart(cart))\n      .catch(err => {\n        console.error(\"There was an error emptying the cart\", err);\n      });\n  };\n  const renderEmptyCart = () => {\n    if (cart.total_unique_items === 0) {\n      return (\n        <p className=\"cart_none\">\n          You have no items in your shopping cart, start adding some!\n        </p>\n      );\n    }\n  };\n\n  const renderCart = () => {\n    if (cart.total_unique_items > 0) {\n      return (\n        <>\n          {cart.line_items.map(lineItem => (\n            <CartItem item={lineItem} key={lineItem.id} />\n          ))}\n          <button className={style.empty} onClick={handleEmptyCart}>\n            Empty Cart\n          </button>\n          <div className=\"cart_total\">\n            <p className=\"cart_total-title\">Subtotal:</p>\n            <p className=\"cart_total-price\">\n              {cart.subtotal.formatted_with_symbol}\n            </p>\n          </div>\n          <Link to=\"/checkout\">\n            <button onClick={handleToggle}>Checkout</button>\n          </Link>\n        </>\n      );\n    }\n  };\n\n  return (\n    <div className={style.cart}>\n      <h4 className={style.head}>\n        Your Shopping Cart<button onClick={handleToggle}>X</button>\n      </h4>\n\n      {renderEmptyCart()}\n      {renderCart()}\n    </div>\n  );\n};\n\nexport default Cart;\n","import React, { useState, useMemo } from \"react\";\nimport { Outlet } from \"react-router-dom\";\nimport Nav from \"./components/Nav\";\nimport Footer from \"./components/Footer\";\nimport { cartVisibility } from \"./context/cartVisibility\";\nimport Cart from \"./components/Cart\";\nconst App = () => {\n  const [isCartVisible, setIsCartVisible] = useState(false);\n  const value = useMemo(\n    () => ({ isCartVisible, setIsCartVisible }),\n    [isCartVisible]\n  );\n  return (\n    <cartVisibility.Provider value={value}>\n      <Nav />\n      <Outlet />\n      {isCartVisible && <Cart />}\n      <Footer />\n    </cartVisibility.Provider>\n  );\n};\n\nexport default App;\n","const About = () => {\n  return (\n    <main>\n      <div>\n        <h1>About Astro Supply</h1>\n        <p>\n          Lorem ipsum, dolor sit amet consectetur adipisicing elit. Minima optio\n          voluptatibus officiis omnis voluptatem assumenda ipsa ratione\n          quibusdam, commodi vitae quam? Voluptatum eius veniam assumenda fuga\n          ducimus repellendus, pariatur officia aut delectus dignissimos\n          deserunt possimus esse a! Illo, nisi suscipit? Minus pariatur placeat\n          neque quisquam tempora blanditiis! Quam adipisci aliquid repellendus\n          nulla ipsum placeat esse autem est similique. Repudiandae magnam alias\n          corrupti sapiente eveniet ducimus debitis? Ipsam obcaecati tempora\n          consequatur dolorum corporis, blanditiis, id error odit debitis quas\n          dolores cumque ullam eos minus perferendis ad! Unde, quis nemo non et\n          blanditiis, nihil labore est, perspiciatis debitis rerum perferendis\n          sit eius.\n        </p>\n      </div>\n    </main>\n  );\n};\n\nexport default About;\n","import React from \"react\";\nimport { useCartDispatch } from \"../context/cart\";\nimport commerce from \"../lib/commerce\";\nimport style from \"../styles/product.module.css\";\n\nconst ProductItem = ({ product }) => {\n  const { setCart } = useCartDispatch();\n\n  const handleAddToCart = () => {\n    commerce.cart.add(product.id).then(({ cart }) => setCart(cart));\n  };\n  return (\n    <div className={style.product_card}>\n      <img src={product.image.url} alt={product.name} />\n      <div>\n        <h4>{product.name}</h4>\n        <p>{product.description.replace(/<[^>]+>/g, \"\")}</p>\n        <div>\n          <p>{product.price.formatted_with_symbol}</p>\n          <button\n            name=\"Add to cart\"\n            className=\"product_btn\"\n            onClick={handleAddToCart}\n          >\n            Add to Cart\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductItem;\n","import React from \"react\";\nimport ProductItem from \"./ProductItem\";\nimport style from \"../styles/list.module.css\";\n\nconst ProductList = ({ products }) => {\n  return (\n    <main>\n      <div className={style.products}>\n        {products.map(product => (\n          <ProductItem key={product.id} product={product} />\n        ))}\n      </div>\n    </main>\n  );\n};\n\nexport default ProductList;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport commerce from \"./lib/commerce\";\nimport ProductList from \"./components/ProductList\";\nimport { useCartDispatch } from \"./context/cart\";\nimport Cart from \"./components/Cart\";\nimport { cartVisibility } from \"./context/cartVisibility\";\n\nfunction Store() {\n  const [products, setProducts] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const { setCart } = useCartDispatch();\n\n  const fetchProducts = () => {\n    commerce.products\n      .list()\n      .then(response => {\n        setProducts(response.data);\n        setIsLoading(false);\n      })\n      .catch(err => {\n        console.log(\"There was an error fetching the products.\", err);\n      });\n  };\n\n  const fetchCart = () => {\n    commerce.cart\n      .retrieve()\n      .then(response => {\n        setCart(response);\n      })\n      .catch(err => {\n        console.error(\"There was an error fetching the cart\", err);\n      });\n  };\n\n  useEffect(() => {\n    fetchProducts();\n    fetchCart();\n  }, []);\n\n  return (\n    <main>\n      {isLoading && <div>Loading....</div>}\n      {products && <ProductList products={products} />}\n    </main>\n  );\n}\n\nexport default Store;\n","import React from \"react\";\n\nconst Home = () => {\n  return (\n    <main>\n      <h1>Home</h1>\n    </main>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useCartDispatch } from \"../context/cart\";\nimport commerce from \"../lib/commerce\";\n\nconst PaypalButton = window.paypal.Buttons.driver(\"react\", { React, ReactDOM });\n\nconst PayButton = ({ amount }) => {\n  const navigate = useNavigate();\n  const { setCart } = useCartDispatch();\n\n  const createOrder = (data, actions) => {\n    return actions.order.create({\n      purchase_units: [\n        {\n          amount: {\n            value: amount,\n          },\n        },\n      ],\n    });\n  };\n\n  const onApprove = (data, actions) => {\n    return actions.order.capture().then(() => {\n      commerce.cart\n        .empty()\n        .then(({ cart }) => setCart(cart))\n        .catch(err => {\n          console.error(\"There was an error emptying the cart\", err);\n        })\n        .then(navigate(\"../thankyou\"));\n    });\n  };\n  return (\n    <PaypalButton\n      createOrder={(data, actions) => createOrder(data, actions)}\n      onApprove={(data, actions) => onApprove(data, actions)}\n    />\n  );\n};\n\nexport default PayButton;\n","import { useEffect, useState } from \"react\";\nimport { useCartState } from \"../context/cart\";\nimport commerce from \"../lib/commerce\";\nimport PayButton from \"./PayButton\";\n\nconst Checkout = () => {\n  const [checkoutToken, setCheckoutToken] = useState();\n  const cart = useCartState();\n\n  const generateCheckoutToken = () => {\n    if (cart.line_items.length) {\n      commerce.checkout\n        .generateToken(cart.id, { type: \"cart\" })\n        .then(token => {\n          setCheckoutToken(token);\n        })\n        .catch(err => {\n          console.error(\"There was an error in generating a token\", err);\n        });\n    }\n  };\n\n  const getPaypalButton = async () => {\n    try {\n      const paypalAuth = await commerce.checkout.capture(checkoutToken.id, {\n        payment: {\n          gateway: \"paypal\",\n          paypal: {\n            action: \"authorize\",\n          },\n        },\n      });\n      renderPaypalButton(paypalAuth);\n      return;\n    } catch (err) {\n      console.error(\"There was an error sending to paypal\");\n      alert(err.message);\n      return;\n    }\n  };\n\n  const renderPaypalButton = () => {\n    window.paypal.Button.render(\n      {\n        env: \"sandbox\",\n        commit: true,\n        payment: function () {},\n        onAuthorize: function (data, actions) {\n          //   captureOrder(data);\n          alert(\"Payment Processed\");\n        },\n        onCancel: function (data, actions) {},\n      },\n      \"#paypal-button-container\"\n    );\n  };\n\n  const captureOrder = async data => {\n    console.log(data);\n    try {\n      const order = await commerce.checkout.capture(checkoutToken, {\n        payment: {\n          gateway: \"paypal\",\n          paypal: {\n            action: \"capture\",\n            payment_id: data.payment_id,\n            payer_id: data.payer_id,\n          },\n        },\n      });\n      console.log(order);\n      return;\n    } catch (err) {\n      console.error(\"There was an error completing checkout.\", err);\n      alert(err.message);\n      return;\n    }\n  };\n\n  useEffect(() => {\n    generateCheckoutToken();\n  }, []);\n\n  return (\n    <main>\n      <h1>Checkout</h1>\n      {/* <button onClick={getPaypalButton}>Checkout with Paypal</button> */}\n      {cart.line_items && <PayButton amount={cart.subtotal.formatted} />}\n    </main>\n  );\n};\n\nexport default Checkout;\n","import React from \"react\";\n\nconst ThankYou = () => {\n  return (\n    <div>\n      <h1>Thank your for your purchase!</h1>\n    </div>\n  );\n};\n\nexport default ThankYou;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter, Route, Routes } from \"react-router-dom\";\nimport { CartProvider } from \"./context/cart\";\nimport \"./index.css\";\nimport App from \"./app\";\nimport About from \"./about\";\nimport Store from \"./store\";\nimport Home from \"./home\";\nimport Checkout from \"./components/Checkout\";\nimport ThankYou from \"./components/ThankYou\";\n\nReactDOM.render(\n  <CartProvider>\n    <HashRouter>\n      <Routes>\n        <Route path=\"/\" element={<App />}>\n          <Route index element={<Home />} />\n          <Route path=\"about\" element={<About />} />\n          <Route path=\"store\" element={<Store />} />\n          <Route path=\"checkout\" element={<Checkout />} />\n          <Route path=\"thankyou\" element={<ThankYou />} />\n        </Route>\n      </Routes>\n    </HashRouter>\n  </CartProvider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}